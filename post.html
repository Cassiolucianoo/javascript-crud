<!DOCTYPE html>
<html lang="pt-br">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Fetch Api Post Example</title>
</head>

<body>
    <form id="formulario" method="post">
        <input type="text" id="name" placeholder="name"/>
        <input type="text" id="cpf" placeholder="cpf"/>
        <input type="text" id="telefone" placeholder="telefone"/>
        <input type="text" id="endereco" placeholder="endereco"/>
         <input type="submit" value="Add todo"/>

    </form>

</body>
<script>
var form = document.getElementById('form')

form.addEventListener('submit',function(e){

    e.preventDefault()
    var name = document.getElementById('name').value
    var cpf = document.getElementById('cpf').value
    var telefone = document.getElementById('telefone').value
    var endereco = document.getElementById('endereco').value


    //fetch post request
   fetch("http://localhost:5000/clientes",{
        method:'POST',
        body:JSON.stringify({
        nome: name,
        cpf: cpf, 
        telefone: telefone,
        endereco: endereco
        }),
        headers:{
            "Content-Type":"application/json; charset=UTF-8"
        }

   })
   .then(function(response){
       return response.json()

   })
   .then(function(data){
       console.log(data)

   })

})


</script>

</html>